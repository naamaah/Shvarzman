{% extends 'base.html' %}

{% set page_head_title = 'shopPage' %}

{% block page_head_css %}
    <link rel="stylesheet" href="{{url_for('shopPage.static', filename='css/shopPage.css')}}"/>
{% endblock %}

{% block page_body_main_content %}
{#        {% if session.shoppingCart %}#}
{#        exist session.shoppingCart#}
{#        {% for productCart in session.shoppingCart %}#}
{#            inside session.shoppingCart#}
{#            {% for item in productCart %}#}
{#                inside item#}
{#                {{ item[0].product_name }}#}
{#            {% endfor %}#}
{#        {% endfor %}#}
{#    {% endif %}#}

    {{ session.shoppingCart }}
    <hr>
    <h1>סל קניות</h1>
    <hr>
    <table class="table cart-table" id="myTable">
        <tr>
            <th>תמונה</th>
            <th>שם המוצר</th>
            <th> ₪מחיר לק"ג</th>
            <th>כמות</th>
            <th> הסר פריט</th>
        </tr>

        {% for product in session.shoppingCart %}
        <tr>
            <td><img src={{ product[3]}} alt="picture"></td>
            <td>{{ product[1] }}</td>
            <td class="price"> {{ product[2]}}</td>
            <td>
                <input type="button" value="-" class="button-minus" data-field="quantity">
                <input type="number" step="1" max="" value={{ product[5] }} name="quantity" min="0" class="quantity-field">
                <input type="button" value="+" class="button-plus" data-field="quantity">
            </td>
            <td>
                <img src="/static/media/img/Cancel.png" alt="delete button" class="ShopPicCart deleteButton">
            </td>
        </tr>
        {% endfor %}
    </table>


    <p class="total-price-text" id="totalPriceText"></p>
    <input type="hidden" name="totalPrice" id="totalPrice" value="0"/>
    <button class="paymentButton" onclick=submitCart()>מעבר לתשלום</button>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
{% endblock %}


{% block page_body_js %}
    <script src="{{ url_for('shopPage.static', filename='js/shopPage.js') }}"></script>
{% endblock %}
